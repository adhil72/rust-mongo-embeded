# Version 1.0.0

Run real MongoDB Embedded binary in your code.

## Key Changes

### 1. Authentication Support
You can now secure your embedded MongoDB instance with a username and password. This is useful for simulating production environments or when testing applications that require authenticated database connections.

```rust
let mongo = MongoEmbedded::new("7.0.2")?
    .set_credentials("admin", "password123");
```

When `set_credentials` is used:
- The `mongod` process starts with `--auth`.
- If the database is initializing for the first time, a root user is automatically created on the `admin` database.
- If the user already exists, the library verifies the credentials before ensuring the server is ready.

### 2. Enhanced Progress Reporting
The `start_with_progress` function now utilizes a rich `InitStatus` enum, providing granular updates on the initialization process.

```rust
use mongo_embedded::{MongoEmbedded, InitStatus};

let mongo = MongoEmbedded::new("7.0.2")?;
let process = mongo.start_with_progress(|status| {
    match status {
        InitStatus::Downloading => println!("Downloading MongoDB..."),
        InitStatus::DownloadProgress(p) => println!("Progress: {}%", p),
        InitStatus::SettingUpUser => println!("Setting up authentication..."),
        InitStatus::DBInitialized => println!("Ready!"),
        _ => {}
    }
}).await?;
```

### 3. Unix Domain Socket Improvements
Improved handling of Unix domain sockets for `bind_ip`. The library now automatically handles URL encoding for socket paths in the connection string and ensures the `?directConnection=true` parameter is set for reliable connectivity via the Rust MongoDB driver.

### 4. Quiet Mode
By default, the MongoDB process now runs in quiet mode (`--quiet`) and redirects logs to `/dev/null` (or `NUL` on Windows) to keep your test output clean.

## Usage Example

```rust
use mongo_embedded::MongoEmbedded;

#[tokio::main]
async fn main() -> anyhow::Result<()> {
    let mut mongo_process = MongoEmbedded::new("7.0.2")?
        .set_credentials("myuser", "mypassword")
        .start()
        .await?;

    println!("MongoDB started at: {}", mongo_process.connection_string);
    // connection_string will look like: 
    // mongodb://myuser:mypassword@127.0.0.1:27017/?directConnection=true

    // ... perform your database operations ...

    mongo_process.kill()?;
    Ok(())
}
```
